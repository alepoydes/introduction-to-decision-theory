# Лабораторная работа №3: "Последовательные игры"

## Задания и вопросы

1. Изучите понятие [последовательной игры](en.wikipedia.org/wiki/Sequential_game).
Какие из известных вам игр являются последовательными?
Являются ли последовательными матричные игры?
Могут ли быть последовательными игры, в которых нужно бросать кубик
или имеется другой элемент случайности?

1. Изучите понятие [дерева игры](en.wikipedia.org/wiki/Game_tree).
Любую ли игру можно задать деревом?
Вся ли информация об игре хранится в дереве?
В каких случая целесообразнее использовать направленный ациклический граф
вместо дерева?

1. Предложите способ вычисления беспроигрышной стратегии,
если известно полное дерево игры.
Найдите такую стратегию для игры [крестики-нолики](ru.wikipedia.org/wiki/Крестики-нолики)
на доске 3x3. 

1. Постройте дерево для [игры Ним](ru.wikipedia.org/wiki/Ним_(игра)).
Какими свойствами обладает дерево этой игры?
Предложите способ нахождения оптимальной стратегии для игры Ним.
Изучите понятие (функции Шпрага-Гранди)[ru.wikipedia.org/wiki/Функция_Шпрага_—_Гранди].
Как эта функция помогает найти беспроигрышную стратегию?
В каких случаях ходящий первым игрок гарантированного выигрывает 
при оптимальной игре?

1. Реализуйте алгоритм вычисления оптимальной стратегии в последовательной игре.
Создайте класс, представляющий состояние игрового поля.
Напишите метод, возвращающий все возможные ходы для данного состояния поля.
Напишите метод, возвращающий выигрыш игроков для данного состояния поля.
Создайте хеш-таблицу для хранения ожидаемого выигрыша 
для уже рассмотренных состояний поля,
эта таблица поможет заметно ускорить расчет,
если одно состояние игры может получиться при разных цепочках ходов.
Заполните эту таблицу, обходя каким-либо способом дерево игры.
Напишите функцию, выдающую по оптимальный ход для данного состояния игры,
используя построенную таблицу.

1. Модифицируйте алгоритм поиска беспроигрышной стратегии, 
учитывая симметрии игры.
Два состояния называются симметричными, если существует преобразование
игрового поля, переводящее дерево подигры для одного состояния
в деревом подигры второго.
Напишите метод, возвращающий для данного состояния все его симметричные.
Сохраняйте в хеш-таблицу только одного представителя из семейства
симметричных состояний.
При обходе дерева игры делайте обход дерева подигры только для одного
из симметричных состояний.

1. Какие ходы будет делать алгоритм, если гарантировано выиграть невозможно?
Как увеличить шансы на выигрыш?

1. Какие модификации в алгоритм необходимо ввести, чтобы программа 
выигрывала за наименьшее возможное число ходов?

1. Нужно ли делать обход всего дерева игры или можно обойти только
его части не уменьшая шансы на выигрыш?
Как можно оптимизировать алгоритм?

1. Напишите программу, играющую в крестики-нолики оптимальным образом
на доске 4x4 (выигрывает поставивший 4 значка в ряд).

1. Модифицируем правила игры в крестики-нолики, разрешив ходить
на клетки, уже занятые противником,
при этом с вероятностью 1/2 знак противника будет заменен на ваш,
с вероятностью 1/2 знак на поле сохранится.
Какие модификации нужно внести в вышеописанный алгоритм,
чтобы он был применим к этой игре?
Реализуйте алгоритм, играющий оптимальным образом по этим правилам
для досок 3x3 и 4x4.


